<!DOCTYPE HTML>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE9"/>
	<title>JS Visualization Tester</title>
</head>

<body>
    <script>var proClient = true;</script>

    <!--
      Place JS and CSS Includes here - uncomment as required
     -->

	<script type="text/javascript" src="https://s3-us-west-2.amazonaws.com/jsviz/3.4/lib/jQuery/jQuery.js"></script>
	<script type="text/javascript" src="https://s3-us-west-2.amazonaws.com/jsviz/3.4/lib/d3/d3.v3.min.js"></script>
	<script type="text/javascript" src="https://s3-us-west-2.amazonaws.com/jsviz/3.4/lib/JSViz/Introspection.js"></script>
    <!--
	 -->

    <!--
      Place JS and CSS for chart being tested here - uncomment as required
     -->

    <link   type="text/css"       href="https://s3-us-west-2.amazonaws.com/jsviz/3.4/src/css/DoughnutChartCustomHTML.css" rel="stylesheet">
	<script type="text/javascript" src="https://s3-us-west-2.amazonaws.com/jsviz/3.4/src/js/DoughnutChartCustomHTML.js"></script>
	<script type="text/javascript" src="https://s3-us-west-2.amazonaws.com/jsviz/3.4/lib/JSViz/JSViz.js"></script>

    <!--
      This button mimics the call to the renderCore method.
     -->

    <br>
    <button onclick="call_renderCore()">Call renderCore()</button>

     <!--
      This text area is to assist with debugging
      Use the Introspection routines to display object details in this box
	 -->

    <br>
    <textarea id="ta1" rows="20" cols="100"></textarea>

    <!--
      This is an example of a Custom HTML Template
      The "js_chart" <DIV> mimics the one created by the JS Visualization Plugin
     -->

    <TABLE id="chart_table" BORDER="5"  WIDTH="100%" HEIGHT="100%" CELLPADDING="4" CELLSPACING="3">
        <TR HEIGHT="20%" >
            <TH COLSPAN="2"><BR><H3>JSViz Visualizations</H3>
            </TH>
        </TR>
        <TR ALIGN="CENTER">
            <TD WIDTH="30%" >Doughnut Chart</TD>
            <TD WIDTH="70%" ><DIV id="js_chart"></DIV></TD>
        </TR>
    </TABLE>

    <script>
    function call_renderCore()
    {
        /*
        Paste in the JSON data copied to the clipboard from within your JS Visualization instance
	     */

        var sfdata = {"columns":["Sales","Location"],"baseTableHints":{ "rows":754, "visible":754, "marked":0, "tableName":"StoreSales", "settingName":"StoreSales"},"data":[{"items":[1249558,"Boston"], "hints":{"index": 0 }}, {"items":[1213626,"Los Angeles"], "hints":{"index": 1 }}, {"items":[1231992,"New York"], "hints":{"index": 2 }}, {"items":[1074072,"Seattle"], "hints":{"index": 3 }}],"additionalTables":[],"user":"spotfireadmin","static":false,"wait":2,"runtime":{},"legend":true, "config":{}}

        renderCore ( sfdata );

        display_data ( sfdata );
    }

    function display_data ( sfdata )
    {
        if (typeof introspect == 'function') {
            document.getElementById("ta1").innerText = introspect ( "Data: \n\n", sfdata );
        }
    }
</script>
</body>